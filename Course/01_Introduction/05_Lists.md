[Зміст](../Contents.md) \| [Попередній розділ (1.4. Текст)](04_Strings.md) \| [Наступний розділ (1.6. Файли)](06_Files.md)

# 1.5 Списки
У цьому розділі представлені списки, основний тип Python для зберігання впорядкованої колекції значень.

### Створення списку
Використовуйте квадратні дужки для визначення літералу списку:
```python
names = [ 'Elwood', 'Jake', 'Curtis' ]
nums = [ 39, 38, 42, 65, 111]
```
Іноді списки створюються іншими методами. Наприклад, рядок можна розділити на список за допомогою методу `split()`:
```python
>>> line = 'GOOG,100,490.10'
>>> row = line.split(',')
>>> row
['GOOG', '100', '490.10']
>>>
```

### Операції зі списками
Списки можуть містити елементи будь-якого типу. Додайте новий елемент за допомогою `append()`:
```python
names.append('Murphy')    # Додати в кінець
names.insert(2, 'Aretha') # Вставити посередині
```

Використовуйте `+`, щоб об'єднати списки:
```python
s = [1, 2, 3]
t = ['a', 'b']
s + t           # [1, 2, 3, 'a', 'b']
```

Списки індексуються цілими числами. Починаючи з 0.
```python
names = [ 'Elwood', 'Jake', 'Curtis' ]

names[0]  # 'Elwood'
names[1]  # 'Jake'
names[2]  # 'Curtis'
```

Від'ємні індекси відраховують з кінця.
```python
names[-1] # 'Curtis'
```

Ви можете змінити будь-який елемент у списку.
```python
names[1] = 'Joliet Jake'
names                     # [ 'Elwood', 'Joliet Jake', 'Curtis' ]
```

Довжина списку.
```python
names = ['Elwood','Jake','Curtis']
len(names)  # 3
```

Перевірка на наявність (`in`, `not in`).
```python
'Elwood' in names       # True
'Britney' not in names  # True
```

Відтворення (`s * n`).
```python
s = [1, 2, 3]
s * 3   # [1, 2, 3, 1, 2, 3, 1, 2, 3]
```

### Ітерація списку та пошук
`for` використовується для ітерації вмісту списку.
```python
for name in names:
    # використовуємо name
    # наприклад: print(name)
    ...
```
Схоже на оператор `foreach` з інших мов програмування.

Щоб швидко знайти позицію якогось елементу, використовуйте `index()`.
```python
names = ['Elwood','Jake','Curtis']
names.index('Curtis')   # 2
```
Якщо елемент присутній більше одного разу, `index()` поверне індекс першої появи.

Якщо елемент не знайдено, ви побачите виняток `ValueError`.

### Видалення в списках
Ви можете видалити елементи за значенням елемента або за індексом:
```python
# Використовуючи значення
names.remove('Curtis')

# Використовуючи індекс
del names[1]
```
Видалення елемента не створює дірки. Інші елементи переміщаються вниз, щоб заповнити звільнене місце. Якщо елемент повторюється, `remove()` видалить лише перший елемент, що знайде.

### Сортування списку
Списки можна сортувати "на місці".
```python
s = [10, 1, 7, 3]
s.sort()                    # [1, 3, 7, 10]

# В зворотньому порядку
s = [10, 1, 7, 3]
s.sort(reverse=True)        # [10, 7, 3, 1]

# Працює з будь-якими даними, що можна впорядкувати
s = ['foo', 'bar', 'spam']
s.sort()                    # ['bar', 'foo', 'spam']
```

Використовуйте `sorted()`, якщо ви хочете створити новий список:
```python
t = sorted(s)               # s unchanged, t holds sorted values
```

### Списки та математика
*Увага: списки не були розроблені для математичних операцій.*
```python
>>> nums = [1, 2, 3, 4, 5]
>>> nums * 2
[1, 2, 3, 4, 5, 1, 2, 3, 4, 5]
>>> nums + [10, 11, 12, 13, 14]
[1, 2, 3, 4, 5, 10, 11, 12, 13, 14]
```
Зокрема, списки не представляють вектори/матриці, як у MATLAB, Octave, R тощо.
Однак є деякі пакети, які допоможуть вам у цьому (наприклад, [numpy](https://numpy.org)).

## Вправи
У цій вправі ми експериментуємо з типом даних списку Python. В останньому розділі ви працювали з рядками, що містять біржові символи.
```python
>>> symbols = 'HPQ,AAPL,IBM,MSFT,YHOO,DOA,GOOG'
```

Розділіть його на список імен за допомогою операції `split()` над рядками:
```python
>>> symlist = symbols.split(',')
```

### Вправа 1.19: Вилучення та перепризначення елементів списку
Спробуйте кілька пошукових запитів, використовуючи індекси:
```python
>>> symlist[0]
'HPQ'
>>> symlist[1]
'AAPL'
>>> symlist[-1]
'GOOG'
>>> symlist[-2]
'DOA'
>>>
```

Спробуйте перепризначити одне значення:
```python
>>> symlist[2] = 'AIG'
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'DOA', 'GOOG']
>>>
```

Використайте техніку "нарізання" (slicing):
```python
>>> symlist[0:3]
['HPQ', 'AAPL', 'AIG']
>>> symlist[-2:]
['DOA', 'GOOG']
>>>
```

Створіть порожній список і додайте до нього елемент.
```python
>>> mysyms = []
>>> mysyms.append('GOOG')
>>> mysyms
['GOOG']
```

Ви можете перепризначити частину списку іншим списком. Наприклад:
```python
>>> symlist[-2:] = mysyms
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG']
>>>
```
Коли ви це робите, список ліворуч (`symlist`) буде змінено до відповідного розміру, щоб правий (`mysyms`) відповідав йому.
Наприклад, у наведеному вище прикладі два останні елементи `symlist` були замінені на один елемент у списку `mysyms`.

### Вправа 1.20: Перегляд елементів списку
Цикл `for` працює, перебираючи дані в такій послідовності, як записано в списку.
Перевірте це, ввівши наступний цикл і подивившись, що відбувається:
```python
>>> for s in symlist:
        print('s =', s)
# Подивіться на результат виводу
```

### Вправа 1.21: Тести на наявність
Використовуйте оператор `in` або `not in`, щоб перевірити, чи є `'AIG'`, `'AA'` та `'CAT'` у списку символів.
```python
>>> # Чи 'AIG' У (IN) `symlist`?
True
>>> # Чи 'AA' У (IN) `symlist`?
False
>>> # Чи 'CAT' НЕ В (NOT IN) `symlist`?
True
>>>
```

### Вправа 1.22: Додавання, вставка та видалення елементів
Використовуйте метод `append()`, щоб додати символ `'RHT'` до кінця `symlist`.
```python
>>> # додати 'RHT'
>>> symlist
['HPQ', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG', 'RHT']
>>>
```

Використовуйте метод `insert()`, щоб вставити символ `'AA'` як другий елемент у списку.
```python
>>> # Вставити 'AA' як другий елемент в списку
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'MSFT', 'YHOO', 'GOOG', 'RHT']
>>>
```

Використовуйте метод `remove()`, щоб видалити `'MSFT'` зі списку.
```python
>>> # Видалити 'MSFT'
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'YHOO', 'GOOG', 'RHT']
>>>
```

Додайте дублікат запису для `'YHOO'` в кінці списку.

*Примітка: цілком нормально, щоб список мав повторювані значення.*
```python
>>> # Додати 'YHOO'
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'YHOO', 'GOOG', 'RHT', 'YHOO']
>>>
```

Використовуйте метод `index()`, щоб знайти першу позицію `'YHOO'` у списку.
```python
>>> # Знайти першу позицію 'YHOO'
4
>>> symlist[4]
'YHOO'
>>>
```

Порахуйте, скільки разів `'YHOO'` є у списку:
```python
>>> symlist.count('YHOO')
2
>>>
```

Видаліть першу появу `'YHOO'`.
```python
>>> # Видалити першу появу 'YHOO'
>>> symlist
['HPQ', 'AA', 'AAPL', 'AIG', 'GOOG', 'RHT', 'YHOO']
>>>
```
Щоб ви знали, немає способу знайти або видалити всі появи елемента. Однак ми побачимо елегантний спосіб зробити це в розділі 2.

### Вправа 1.23: Сортування

Хочете відсортувати список? Використовуйте метод `sort()`. Спробуйте:
```python
>>> symlist.sort()
>>> symlist
['AA', 'AAPL', 'AIG', 'GOOG', 'HPQ', 'RHT', 'YHOO']
>>>
```

Хочете сортувати у зворотному порядку? Спробуйте так:
```python
>>> symlist.sort(reverse=True)
>>> symlist
['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA']
>>>
```
Примітка: сортування списку змінює його вміст "на місці". Тобто елементи списку перемішуються, але в результаті не створюється новий список.

### Вправа 1.24: З’єднайте все разом

Хочете взяти список рядків і об’єднати їх в один рядок? Використовуйте такий метод рядків `join()` (примітка: спочатку виглядає кумедно і незвично).
```python
>>> a = ','.join(symlist)
>>> a
'YHOO,RHT,HPQ,GOOG,AIG,AAPL,AA'
>>> b = ':'.join(symlist)
>>> b
'YHOO:RHT:HPQ:GOOG:AIG:AAPL:AA'
>>> c = ''.join(symlist)
>>> c
'YHOORHTHPQGOOGAIGAAPLAA'
>>>
```

### Вправа 1.25: Списки будь-чого

Списки можуть містити будь-який тип об’єктів, включаючи інші списки (наприклад, вкладені списки). Спробуйте наступне:
```python
>>> nums = [101, 102, 103]
>>> items = ['spam', symlist, nums]
>>> items
['spam', ['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA'], [101, 102, 103]]
```

Зверніть увагу на наведений вище вихід. `items` – це список із трьома елементами. Перший елемент — це рядок, а два інших — списки.

Ви можете отримати доступ до елементів у вкладених списках за допомогою кількох операцій індексування.

```python
>>> items[0]
'spam'
>>> items[0][0]
's'
>>> items[1]
['YHOO', 'RHT', 'HPQ', 'GOOG', 'AIG', 'AAPL', 'AA']
>>> items[1][1]
'RHT'
>>> items[1][1][2]
'T'
>>> items[2]
[101, 102, 103]
>>> items[2][1]
102
>>>
```
Незважаючи на те, що технічно можливо створити дуже складні структури списків, як правило, ви би хотіли, щоб усе було просто. Зазвичай списки містять елементи, які мають однакові типи даних. Наприклад, список, який повністю складається з чисел, або список текстових рядків. Змішування різних типів даних в одному списку часто є хорошим способом наламати дров, тому цього краще уникати.


[Зміст](../Contents.md) \| [Попередній розділ (1.4. Текст)](04_Strings.md) \| [Наступний розділ (1.6. Файли)](06_Files.md)
