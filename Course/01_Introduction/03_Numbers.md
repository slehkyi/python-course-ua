[Зміст](../Contents.md) \| [Попередній розділ (1.2. Перша програма)](02_Hello_world.md) \| [Наступний розділ (1.4. Текст)](04_Strings.md)

# 1.3 Числа

У цьому розділі розглядаються математичні розрахунки.

### Типи чисел

У Python є 4 типи чисел:
* Булеві значення
* Цілі числа
* Плаваюча кома
* Комплексні (уявні числа)

### Логічні значення (bool)
Логічні значення мають два значення: `True`, `False`.
```python
a = True
b = False
```

Їх можна позначити як цілі числа зі значенням `1`, `0`.
```python
c = 4 + True # 5
d = False
if d == 0:
    print('d is False')
```
*Але не пишіть так код. Це як мінімум дивно.*

### Цілі числа (int)
Значення зі знаком довільного розміру та основи:
```python
a = 37
b = -299392993727716627377128481812241231
c = 0x7fa8      # Hexadecimal
d = 0o253       # Octal
e = 0b10001111  # Binary
```

Поширені операції:
```
x + y      Додавання
x - y      Віднімання
x * y      Множення
x / y      Ділення (повертає плаваючу кому)
x // y     Ціле ділення (повертає ціле число)
x % y      Модуль (залишок)
x ** y     Степінь
x << n     Бітовий зсув ліворуч
x >> n     Бітовий зсув праворуч
x & y      Побітове І (AND)
x | y      Побітове АБО (OR)
x ^ y      Побітове виключаюче АБО (XOR)
~x         Побітове НІ (NOT)
abs(x)     Абсолютне значення
```

### Плаваюча кома (float)
Використовує десяткову або експоненційну систему, щоб вказати значення з плаваючою комою:
```python
a = 37.45
b = 4e5 # 4 x 10**5 or 400,000
c = -1.345e-10
```

Флоати представлені у вигляді подвійної точності з використанням власного представлення ЦП [IEEE 754](https://uk.wikipedia.org/wiki/IEEE_754). Це те саме, що тип `double` у мові програмування C.
> 17 цифр після коми  
> Степінь від -308 до 308

Майте на увазі, що числа з плаваючою комою неточні під час подання десяткових дробів.
```python
>>> a = 2.1 + 4.2
>>> a == 6.3
False
>>> a
6.300000000000001
>>>
```
Це **не проблема Python**, а залізо на ЦП.

Поширені операції:
```
x + y      Додавання
x - y      Віднімання
x * y      Множення
x / y      Ділення
x // y     Ціле ділення
x % y      Модуль
x ** y     Степінь
abs(x)     Абсолютне значення
```

Це ті самі оператори, що й для цілих чисел, за винятком бітових операторів. Додаткові математичні функції знаходяться в модулі `math`.
```python
import math
a = math.sqrt(x)
b = math.sin(x)
c = math.cos(x)
d = math.tan(x)
e = math.log(x)
```

### Порівняння
З числами працюють такі оператори порівняння/відношення:
```
x < y      Менше ніж
x <= y     Менше або дорівнює
x > y      Більше ніж
x >= y     Більше або дорівнює
x == y     Дорівнює
x != y     Не дорівнює
```

Ви можете формувати більш складні логічні вирази, використовуючи `and` (і), `or` (чи), `not` (не)
Ось кілька прикладів:
```python
if b >= a and b <= c:
    print('b знаходиться між a і c')

if not (b < a or b > c):
    print('b все ще між a і c')
```

### Перетворення чисел
Ім’я типу можна використовувати для перетворення значень:
```python
a = int(x)    # Перетворити x на ціле
b = float(x)  # Перетворити x на число з плаваючою комою
```

Спробуйте.
```python
>>> a = 3.14159
>>> int(a)
3
>>> b = '3.14159' # Також працює з рядками, які містять числа
>>> float(b)
3.14159
>>>
```

## Вправи
Нагадування: ці вправи припускають, що ви працюєте в каталозі `python-course-ua/Work/`. Файл `mortgage.py`.

### Вправа 1.7: Іпотека Дейва
Дейв вирішив укласти 30-річну іпотеку з фіксованою процентною ставкою в розмірі 500 000 доларів США з корпорацією Guido’s Mortgage, Stock Investment, and Bitcoin Trading Corporation. Процентна ставка становить 5%, а щомісячний платіж становить 2684,11 доларів США.

Ось програма, яка розраховує загальну суму, яку Дейв повинен буде сплатити протягом усього терміну дії іпотеки:
```python
# mortgage.py

principal = 500000.0
rate = 0.05
payment = 2684.11
total_paid = 0.0

while principal > 0:
    principal = principal * (1+rate/12) - payment
    total_paid = total_paid + payment

print('Total paid', total_paid)
```
Напишіть цю програму і запустіть її. Ви повинні отримати відповідь `966 279,6`.

### Вправа 1.8: Доплати
Припустимо, Дейв платить додаткові 1000 доларів США на місяць протягом перших 12 місяців іпотеки?

Змініть програму, щоб включити цей додатковий платіж, і попросіть її надрукувати загальну сплачену суму разом із кількістю необхідних місяців.

Коли ви запускаєте нову програму, вона має повідомляти про загальний платіж у розмірі `929 965,62` за 342 місяці.

### Вправа 1.9: Створення калькулятора додаткових платежів
Змініть програму, щоб додаткову платіжну інформацію можна було обробляти більш загально.
Зробіть так, щоб користувач міг встановити ці змінні:
```python
extra_payment_start_month = 61
extra_payment_end_month = 108
extra_payment = 1000
```
Змусьте програму переглянути ці змінні та розрахувати загальну суму виплати належним чином.

Скільки заплатить Дейв, якщо він буде платити додаткові 1000 доларів США на місяць протягом 4 років, якщо перших п'ять років уже виплачено?

### Вправа 1.10: Створення таблиці
Змініть програму так, щоб вивести на екран таблицю, яка показує місяць, загальну суму сплаченого на даний момент та суму, що залишилася.
Результат має виглядати приблизно так:
```bash
1 2684.11 499399.22
2 5368.22 498795.94
3 8052.33 498190.15
4 10736.44 497581.83
5 13420.55 496970.98
...
308 874705.88 3478.83
309 877389.99 809.21
310 880074.1 -1871.53
Total paid 880074.1
Months 310
```

### Вправа 1.11: Бонус
Поки ви тут, виправте програму, щоб зкоригувати переплату, яка сталася за останній місяць.

### Вправа 1.12: Дивна дивина
`int()` і `float()` можна використовувати для перетворення чисел. Наприклад:
```python
>>> int("123")
123
>>> float("1.23")
1.23
>>>
```
Маючи це на увазі, чи можете ви пояснити таку поведінку?
```python
>>> bool("False")
True
>>>
```

[Зміст](../Contents.md) \| [Попередній розділ (1.2. Перша програма)](02_Hello_world.md) \| [Наступний розділ (1.4. Текст)](04_Strings.md)
